window.RQ=window.RQ||{},RQ.configs={browser:["chrome","firefox"][0],env:["local","beta","prod"][2],version:"5.0.0"};var envConfigs={local:{WEB_URL:"http://localhost:3000"},beta:{WEB_URL:"https://beta.requestly.in"},prod:{WEB_URL:"https://www.requestly.in"}},browserConfigs={chrome:{storageType:"sync",contextMenuContexts:["browser_action"]},firefox:{storageType:"local",contextMenuContexts:["all"]}};Object.assign(RQ.configs,envConfigs[RQ.configs.env],browserConfigs[RQ.configs.browser]),window.RQ=window.RQ||{},RQ.VERSION=3,RQ.VERSIONS={REPLACE_RULE:2},RQ.RULES_PAGE_URL=RQ.configs.WEB_URL+"/rules/",RQ.RULES_PAGE_URL_PATTERN=RQ.RULES_PAGE_URL+"*",RQ.BLACK_LIST_DOMAINS=["requestly.in"],RQ.STRING_CONSTANTS={SLASH:"/"},RQ.LIMITS={NUMBER_SHARED_LISTS:10},RQ.RULE_TYPES={REDIRECT:"Redirect",CANCEL:"Cancel",REPLACE:"Replace",HEADERS:"Headers",USERAGENT:"UserAgent",SCRIPT:"Script"},RQ.HEADER_NAMES={USER_AGENT:"User-Agent"},RQ.RULE_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},RQ.RULE_KEYS={URL:"Url",HOST:"host",PATH:"path",HEADER:"Header"},RQ.RULE_OPERATORS={EQUALS:"Equals",CONTAINS:"Contains",MATCHES:"Matches",WILDCARD_MATCHES:"Wildcard_Matches"},RQ.MODIFICATION_TYPES={ADD:"Add",REMOVE:"Remove",MODIFY:"Modify",REPLACE:"Replace"},RQ.HEADERS_TARGET={REQUEST:"Request",RESPONSE:"Response"},RQ.REQUEST_TYPES={MAIN_FRAME:"mainFrame",PAGE_REQUEST:"pageRequest"},RQ.SCRIPT_TYPES={URL:"url",CODE:"code"},RQ.SCRIPT_LOAD_TIME={BEFORE_PAGE_LOAD:"beforePageLoad",AFTER_PAGE_LOAD:"afterPageLoad"},RQ.SCRIPT_LIBRARIES={JQUERY:{name:"jQuery",src:"https://code.jquery.com/jquery-2.2.4.js"},UNDERSCORE:{name:"Underscore",src:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"}},RQ.RESPONSE_CODES={NOT_FOUND:404},RQ.STORAGE_KEYS={REQUESTLY_SETTINGS:"rq_settings",USER_INFO:"user_info",LATEST_NOTIFICATION_READ_BY_USER:"latestNotificationReadId"},RQ.MESSAGES={DELETE_ITEMS:"Are you sure you want to delete the selected items ?",SIGN_IN_TO_VIEW_SHARED_LISTS:"Please login with Google to view your Shared Lists.",ERROR_AUTHENTICATION:"Received some error in authentication. Please try again later!!",SHARED_LISTS_LIMIT_REACHED:"You can not create more than "+RQ.LIMITS.NUMBER_SHARED_LISTS+" shared lists",DEACTIVATE_REQUESTLY_MENU_OPTION:"Deactivate Requestly"},RQ.RESOURCES={EXTENSION_ICON:"/resources/images/38x38.png",EXTENSION_ICON_GREYSCALE:"/resources/images/38x38_greyscale.png"},RQ.GA_EVENTS={CATEGORIES:{RULES:"rules",USER:"user",SHARED_LIST:"shared list",EXTENSION:"extension"},ACTIONS:{MODIFIED:"modified",CREATED:"created",DELETED:"deleted",ACTIVATED:"activated",DEACTIVATED:"deactivated",IMPORTED:"imported",EXPORTED:"exported",LIMIT_REACHED:"limit reached",AUTHENTICATED:"authenticated",VIEWED:"viewed"}},RQ.USER={AUTHORIZED:"authorized-user",UNAUTHORIZED:"unauthorized-user"},RQ.FIREBASE_NODES={USERS:"users",PUBLIC:"public",SHARED_LISTS:"sharedLists"},RQ.DATASTORE={ACTIONS:{CHECK_USER_AUTH:"check:userAuthenticated",AUTHENTICATE:"authenticate",GETVALUE:"getValue",SETVALUE:"setValue"}},RQ.htmlEncode=function(a){return $("<div/>").text(a).html()},RQ.getSharedURL=function(a){return RQ.RULES_PAGE_URL+"#sharedList/"+a},window.RQ=window.RQ||{},RQ.Utils=RQ.Utils||{},RQ.Utils.regexFormat="^/(.+)/(|i|g|ig|gi)$",RQ.Utils.isValidRegex=function(a){return-1!==a.search(new RegExp(RQ.Utils.regexFormat))},RQ.Utils.toRegex=function(a){var b,c=this.isValidRegex(a);return c?(b=a.match(new RegExp(RQ.Utils.regexFormat)),new RegExp(b[1],b[2])):null},RQ.Utils.isValidUrl=function(a){return 0===a.search(/^http:|https:|ftp:|javascript:/)},RQ.Utils.getId=function(){return Date.now()},RQ.Utils.getCurrentTime=function(){return Date.now()},RQ.Utils.reloadPage=function(a){a=a||0,setTimeout(function(){window.location.reload()},a)},RQ.Utils.submitEvent=function(a,b,c){var d=document.getElementById("events-observer-placeholder"),e=$("<span></span>").attr({"data-category":a,"data-action":b,"data-label":c});d&&d.appendChild(e.get(0))},RQ.Utils.removeLastPart=function(a,b){return a=a||"",-1===a.indexOf(b)?a:(a=a.split(b),a.length--,a.join(b))},RQ.Utils.setCookie=function(a,b,c){document.cookie=a+"="+b+"; path=/; max-age="+c},RQ.Utils.readCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},RQ.Utils.eraseCookie=function(a){RQ.Utils.setCookie(a,"",1)},RQ.Utils.extractUrlComponent=function(a,b){switch(BG.dummyAnchor.href=a,b){case RQ.RULE_KEYS.URL:return a;case RQ.RULE_KEYS.HOST:return BG.dummyAnchor.host;case RQ.RULE_KEYS.PATH:return BG.dummyAnchor.pathname}console.error("Invalid source key",a,b)},window.RQ=window.RQ||{},RQ.MessageHandler={eventCallbackMap:{},configs:{isLoggingEnabled:!1},constants:{CONTENT_SCRIPT:"content_script",PAGE_SCRIPT:"page_script",DOMAIN:RQ.configs.WEB_URL,SOURCE_FIELD:"source",ACTION_USER_LOGGED_IN:"user:loggedIn"},addMessageListener:function(){window.addEventListener("message",this.handleMessageReceived.bind(this))},registerCallback:function(a,b){this.eventCallbackMap[a]=b},sendMessage:function(a,b){if(!a.action)return void(this.isLoggingEnabled&&console.error("Invalid message. Must contain some action"));this.eventCallbackMap[a.action]=b,a[this.constants.SOURCE_FIELD]=this.constants.CONTENT_SCRIPT,window.postMessage(a,this.constants.DOMAIN)},handleMessageReceived:function(a){var b;a&&a.data&&a.data.source===this.constants.PAGE_SCRIPT&&"function"==typeof(b=this.eventCallbackMap[a.data.action])&&(delete this.eventCallbackMap[a.data.action],b.call(this,a.data.response))},init:function(){this.addMessageListener()}},RQ.MessageHandler.init(),window.RQ=window.RQ||{},RQ.DataStoreUtils={setUserProfileData:function(a){RQ.currentUser.setProfile(a).setUserLoggedIn(!0)},isUserAuthenticated:function(a,b){RQ.MessageHandler.sendMessage({action:RQ.DATASTORE.ACTIONS.CHECK_USER_AUTH,checkOnPageLoad:b},function(b){b&&RQ.DataStoreUtils.setUserProfileData(b),a.call(null,b)})},authenticate:function(a){RQ.MessageHandler.sendMessage({action:RQ.DATASTORE.ACTIONS.AUTHENTICATE},function(b){RQ.DataStoreUtils.setUserProfileData(b),a.call(null,b)})},getValue:function(a,b){RQ.MessageHandler.sendMessage({action:RQ.DATASTORE.ACTIONS.GETVALUE,pathArray:a},b)},setValue:function(a,b,c){RQ.MessageHandler.sendMessage({action:RQ.DATASTORE.ACTIONS.SETVALUE,pathArray:a,value:b},c)}},window.RQ=window.RQ||{},RQ.UserAgentLibrary=RQ.UserAgentLibrary||{},RQ.UserAgentLibrary={USER_AGENT:{device:{android:{name:"Android",values:{phone:{name:"Android Phone",value:"Mozilla/5.0 (Linux; Android 5.1.1; Nexus 6 Build/LYZ28E) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Mobile Safari/537.36"},tablet:{name:"Android Tablet",value:"Mozilla/5.0 (Linux; Android 4.3; Nexus 10 Build/JSS15Q) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}}},apple:{name:"Apple",values:{iphone:{name:"Apple iPhone",value:"Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"},ipad:{name:"Apple iPad",value:"Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"}}},windows:{name:"Windows",values:{phone:{name:"Windows Phone",value:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920)"},tablet:{name:"Windows Tablet",value:"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; WOW64; Trident/6.0; Touch; NOKIA; Lumia 920)"}}},blackberry:{name:"Blackberry",values:{phone:{name:"Blackberry Phone",value:"Mozilla/5.0 (BlackBerry; U; BlackBerry 9900; en-US) AppleWebKit/534.11 (KHTML, like Gecko) Version/7.0.0.187 Mobile Safari/534.11"},tablet:{name:"Blackberry Tablet",value:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.0.0; en-US) AppleWebKit/535.8 (KHTML, like Gecko) Version/7.2.0.0 Safari/535.8"}}},symbian_phone:{name:"Symbian Phone",value:"Mozilla/5.0 (SymbianOS) AppleWebKit/533.4 (KHTML, like Gecko) NokiaBrowser/7.3.1.33 Mobile Safari/533.4 3gpp-gba"}},browser:{chrome:{name:"Google Chrome",values:{windows:{name:"Chrome on Windows",value:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"},macintosh:{name:"Chrome on Macintosh",value:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"},linux:{name:"Chrome on Linux",value:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}}},firefox:{name:"Mozilla Firefox",values:{windows:{name:"Firefox on Windows",value:"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0"},macintosh:{name:"Firfox on Macintosh",value:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10; rv:52.0) Gecko/20100101 Firefox/52.0"},linux:{name:"Firefox on Linux",value:"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0"}}},safari:{name:"Safari",value:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/602.4.8 (KHTML, like Gecko) Version/10.0.3 Safari/602.4.8"},msie:{name:"Microsoft Internet Explorer",values:{msie6:{name:"Internet Explorer 6",value:"Mozilla/4.0(compatible; MSIE 6.0; Windows NT 5.1)"},msie7:{name:"Internet Explorer 7",value:"Mozilla/4.0(compatible; MSIE 7.0; Windows NT 6.0)"},msie8:{name:"Internet Explorer 8",value:"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0)"},msie9:{name:"Internet Explorer 9",value:"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)"},msie10:{name:"Internet Explorer 10",value:"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)"},msie11:{name:"Internet Explorer 11",value:"Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko"}}},msedge:{name:"Microsoft Edge",value:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10240"},opera:{name:"Opera",value:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.52 Safari/537.36 OPR/15.0.1147.100"}}},getDefaultUserAgent:function(){return navigator&&navigator.userAgent||""}};